{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/eliothyenne/Daneo/node_modules/react-native-root-toast/lib/ToastContainer.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { ViewPropTypes } from \"react-native-web/dist/index\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Easing from \"react-native-web/dist/exports/Easing\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nvar TOAST_MAX_WIDTH = 0.8;\nvar TOAST_ANIMATION_DURATION = 200;\nvar positions = {\n  TOP: 20,\n  BOTTOM: -20,\n  CENTER: 0\n};\nvar durations = {\n  LONG: 3500,\n  SHORT: 2000\n};\nvar styles = StyleSheet.create({\n  defaultStyle: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  containerStyle: {\n    padding: 10,\n    backgroundColor: '#000',\n    opacity: 0.8,\n    borderRadius: 5\n  },\n  shadowStyle: {\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 4,\n      height: 4\n    },\n    shadowOpacity: 0.8,\n    shadowRadius: 6,\n    elevation: 10\n  },\n  textStyle: {\n    fontSize: 16,\n    color: '#fff',\n    textAlign: 'center'\n  }\n});\n\nvar ToastContainer = function (_Component) {\n  _inherits(ToastContainer, _Component);\n\n  var _super = _createSuper(ToastContainer);\n\n  function ToastContainer() {\n    var _this;\n\n    _classCallCheck(this, ToastContainer);\n\n    _this = _super.apply(this, arguments);\n\n    _this.componentDidMount = function () {\n      Dimensions.addEventListener('change', _this._windowChanged);\n\n      if (_this.props.keyboardAvoiding) {\n        Keyboard.addListener('keyboardDidChangeFrame', _this._keyboardDidChangeFrame);\n      }\n\n      if (_this.state.visible) {\n        _this._showTimeout = setTimeout(function () {\n          return _this._show();\n        }, _this.props.delay);\n      }\n    };\n\n    _this.componentDidUpdate = function (prevProps) {\n      if (_this.props.visible !== prevProps.visible) {\n        if (_this.props.visible) {\n          clearTimeout(_this._showTimeout);\n          clearTimeout(_this._hideTimeout);\n          _this._showTimeout = setTimeout(function () {\n            return _this._show();\n          }, _this.props.delay);\n        } else {\n          _this._hide();\n        }\n\n        _this.setState({\n          visible: _this.props.visible\n        });\n      }\n    };\n\n    _this.componentWillUnmount = function () {\n      _this._hide();\n\n      Dimensions.removeEventListener('change', _this._windowChanged);\n      Keyboard.removeListener('keyboardDidChangeFrame', _this._keyboardDidChangeFrame);\n    };\n\n    _this._animating = false;\n    _this._root = null;\n    _this._hideTimeout = null;\n    _this._showTimeout = null;\n    _this._keyboardHeight = 0;\n\n    _this._windowChanged = function (_ref) {\n      var window = _ref.window;\n\n      _this.setState({\n        windowWidth: window.width,\n        windowHeight: window.height\n      });\n    };\n\n    _this._keyboardDidChangeFrame = function (_ref2) {\n      var endCoordinates = _ref2.endCoordinates;\n\n      _this.setState({\n        keyboardScreenY: endCoordinates.screenY\n      });\n    };\n\n    _this._show = function () {\n      clearTimeout(_this._showTimeout);\n\n      if (!_this._animating) {\n        clearTimeout(_this._hideTimeout);\n        _this._animating = true;\n\n        _this._root.setNativeProps({\n          pointerEvents: 'auto'\n        });\n\n        _this.props.onShow && _this.props.onShow(_this.props.siblingManager);\n        Animated.timing(_this.state.opacity, {\n          toValue: _this.props.opacity,\n          duration: _this.props.animation ? TOAST_ANIMATION_DURATION : 0,\n          easing: Easing.out(Easing.ease),\n          useNativeDriver: true\n        }).start(function (_ref3) {\n          var finished = _ref3.finished;\n\n          if (finished) {\n            _this._animating = !finished;\n            _this.props.onShown && _this.props.onShown(_this.props.siblingManager);\n\n            if (_this.props.duration > 0) {\n              _this._hideTimeout = setTimeout(function () {\n                return _this._hide();\n              }, _this.props.duration);\n            }\n          }\n        });\n      }\n    };\n\n    _this._hide = function () {\n      clearTimeout(_this._showTimeout);\n      clearTimeout(_this._hideTimeout);\n\n      if (!_this._animating) {\n        if (_this._root) {\n          _this._root.setNativeProps({\n            pointerEvents: 'none'\n          });\n        }\n\n        if (_this.props.onHide) {\n          _this.props.onHide(_this.props.siblingManager);\n        }\n\n        Animated.timing(_this.state.opacity, {\n          toValue: 0,\n          duration: _this.props.animation ? TOAST_ANIMATION_DURATION : 0,\n          easing: Easing.in(Easing.ease),\n          useNativeDriver: true\n        }).start(function (_ref4) {\n          var finished = _ref4.finished;\n\n          if (finished) {\n            _this._animating = false;\n            _this.props.onHidden && _this.props.onHidden(_this.props.siblingManager);\n          }\n        });\n      }\n    };\n\n    var _window = Dimensions.get('window');\n\n    _this.state = {\n      visible: _this.props.visible,\n      opacity: new Animated.Value(0),\n      windowWidth: _window.width,\n      windowHeight: _window.height,\n      keyboardScreenY: _window.height\n    };\n    return _this;\n  }\n\n  _createClass(ToastContainer, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var props = this.props;\n      var windowWidth = this.state.windowWidth;\n      var offset = props.position;\n      var _this$state = this.state,\n          windowHeight = _this$state.windowHeight,\n          keyboardScreenY = _this$state.keyboardScreenY;\n      var keyboardHeight = Math.max(windowHeight - keyboardScreenY, 0);\n      var position = offset ? _defineProperty({}, offset < 0 ? 'bottom' : 'top', offset < 0 ? keyboardHeight - offset : offset) : {\n        top: 0,\n        bottom: keyboardHeight\n      };\n      return this.state.visible || this._animating ? React.createElement(View, {\n        style: [styles.defaultStyle, position],\n        pointerEvents: \"box-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 58\n        }\n      }, React.createElement(TouchableWithoutFeedback, {\n        onPress: function onPress() {\n          typeof _this2.props.onPress === 'function' ? _this2.props.onPress() : null;\n          _this2.props.hideOnPress ? _this2._hide() : null;\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 13\n        }\n      }, React.createElement(Animated.View, {\n        style: [styles.containerStyle, {\n          marginHorizontal: windowWidth * ((1 - TOAST_MAX_WIDTH) / 2)\n        }, props.containerStyle, props.backgroundColor && {\n          backgroundColor: props.backgroundColor\n        }, {\n          opacity: this.state.opacity\n        }, props.shadow && styles.shadowStyle, props.shadowColor && {\n          shadowColor: props.shadowColor\n        }],\n        pointerEvents: \"none\",\n        ref: function ref(ele) {\n          return _this2._root = ele;\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: [styles.textStyle, props.textStyle, props.textColor && {\n          color: props.textColor\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 21\n        }\n      }, this.props.children)))) : null;\n    }\n  }]);\n\n  return ToastContainer;\n}(Component);\n\nToastContainer.displayName = 'ToastContainer';\nToastContainer.propTypes = _objectSpread(_objectSpread({}, ViewPropTypes), {}, {\n  containerStyle: ViewPropTypes.style,\n  duration: PropTypes.number,\n  visible: PropTypes.bool,\n  position: PropTypes.number,\n  animation: PropTypes.bool,\n  shadow: PropTypes.bool,\n  keyboardAvoiding: PropTypes.bool,\n  backgroundColor: PropTypes.string,\n  opacity: PropTypes.number,\n  shadowColor: PropTypes.string,\n  textColor: PropTypes.string,\n  textStyle: Text.propTypes.style,\n  delay: PropTypes.number,\n  hideOnPress: PropTypes.bool,\n  onPress: PropTypes.func,\n  onHide: PropTypes.func,\n  onHidden: PropTypes.func,\n  onShow: PropTypes.func,\n  onShown: PropTypes.func\n});\nToastContainer.defaultProps = {\n  visible: false,\n  duration: durations.SHORT,\n  animation: true,\n  shadow: true,\n  position: positions.BOTTOM,\n  opacity: 0.8,\n  delay: 0,\n  hideOnPress: true,\n  keyboardAvoiding: true\n};\nexport default ToastContainer;\nexport { positions, durations };","map":{"version":3,"sources":["/Users/eliothyenne/Daneo/node_modules/react-native-root-toast/lib/ToastContainer.js"],"names":["React","Component","PropTypes","ViewPropTypes","TOAST_MAX_WIDTH","TOAST_ANIMATION_DURATION","positions","TOP","BOTTOM","CENTER","durations","LONG","SHORT","styles","StyleSheet","create","defaultStyle","position","left","right","justifyContent","alignItems","containerStyle","padding","backgroundColor","opacity","borderRadius","shadowStyle","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","textStyle","fontSize","color","textAlign","ToastContainer","arguments","componentDidMount","Dimensions","addEventListener","_windowChanged","props","keyboardAvoiding","Keyboard","addListener","_keyboardDidChangeFrame","state","visible","_showTimeout","setTimeout","_show","delay","componentDidUpdate","prevProps","clearTimeout","_hideTimeout","_hide","setState","componentWillUnmount","removeEventListener","removeListener","_animating","_root","_keyboardHeight","window","windowWidth","windowHeight","endCoordinates","keyboardScreenY","screenY","setNativeProps","pointerEvents","onShow","siblingManager","Animated","timing","toValue","duration","animation","easing","Easing","out","ease","useNativeDriver","start","finished","onShown","onHide","in","onHidden","get","Value","offset","keyboardHeight","Math","max","top","bottom","onPress","hideOnPress","marginHorizontal","shadow","ele","textColor","children","displayName","propTypes","style","number","bool","string","Text","func","defaultProps"],"mappings":"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","sourcesContent":["import React, {\n    Component\n} from 'react';\nimport PropTypes from 'prop-types';\nimport {\n    ViewPropTypes,\n    StyleSheet,\n    View,\n    Text,\n    Animated,\n    Dimensions,\n    TouchableWithoutFeedback,\n    Easing,\n    Keyboard\n} from 'react-native';\nconst TOAST_MAX_WIDTH = 0.8;\nconst TOAST_ANIMATION_DURATION = 200;\n\nconst positions = {\n    TOP: 20,\n    BOTTOM: -20,\n    CENTER: 0\n};\n\nconst durations = {\n    LONG: 3500,\n    SHORT: 2000\n};\n\nlet styles = StyleSheet.create({\n    defaultStyle: {\n        position: 'absolute',\n        left: 0,\n        right: 0,\n        justifyContent: 'center',\n        alignItems: 'center'\n    },\n    containerStyle: {\n        padding: 10,\n        backgroundColor: '#000',\n        opacity: 0.8,\n        borderRadius: 5\n    },\n    shadowStyle: {\n        shadowColor: '#000',\n        shadowOffset: {\n            width: 4,\n            height: 4\n        },\n        shadowOpacity: 0.8,\n        shadowRadius: 6,\n        elevation: 10\n    },\n    textStyle: {\n        fontSize: 16,\n        color: '#fff',\n        textAlign: 'center'\n    }\n});\n\nclass ToastContainer extends Component {\n    static displayName = 'ToastContainer';\n\n    static propTypes = {\n        ...ViewPropTypes,\n        containerStyle: ViewPropTypes.style,\n        duration: PropTypes.number,\n        visible: PropTypes.bool,\n        position: PropTypes.number,\n        animation: PropTypes.bool,\n        shadow: PropTypes.bool,\n        keyboardAvoiding: PropTypes.bool,\n        backgroundColor: PropTypes.string,\n        opacity: PropTypes.number,\n        shadowColor: PropTypes.string,\n        textColor: PropTypes.string,\n        textStyle: Text.propTypes.style,\n        delay: PropTypes.number,\n        hideOnPress: PropTypes.bool,\n        onPress: PropTypes.func,\n        onHide: PropTypes.func,\n        onHidden: PropTypes.func,\n        onShow: PropTypes.func,\n        onShown: PropTypes.func\n    };\n\n    static defaultProps = {\n        visible: false,\n        duration: durations.SHORT,\n        animation: true,\n        shadow: true,\n        position: positions.BOTTOM,\n        opacity: 0.8,\n        delay: 0,\n        hideOnPress: true,\n        keyboardAvoiding: true\n    };\n\n    constructor() {\n        super(...arguments);\n        const window = Dimensions.get('window');\n        this.state = {\n            visible: this.props.visible,\n            opacity: new Animated.Value(0),\n            windowWidth: window.width,\n            windowHeight: window.height,\n            keyboardScreenY: window.height\n        };\n    }\n\n    componentDidMount = () => {\n        Dimensions.addEventListener('change', this._windowChanged);\n        if (this.props.keyboardAvoiding) {\n            Keyboard.addListener('keyboardDidChangeFrame', this._keyboardDidChangeFrame);\n        }\n        if (this.state.visible) {\n            this._showTimeout = setTimeout(() => this._show(), this.props.delay);\n        }\n    };\n\n    componentDidUpdate = prevProps => {\n        if (this.props.visible !== prevProps.visible) {\n            if (this.props.visible) {\n                clearTimeout(this._showTimeout);\n                clearTimeout(this._hideTimeout);\n                this._showTimeout = setTimeout(() => this._show(), this.props.delay);\n            } else {\n                this._hide();\n            }\n\n            this.setState({\n                visible: this.props.visible\n            });\n        }\n    };\n\n    componentWillUnmount = () => {\n        this._hide();\n        Dimensions.removeEventListener('change', this._windowChanged);\n        Keyboard.removeListener('keyboardDidChangeFrame', this._keyboardDidChangeFrame);\n    };\n\n    _animating = false;\n    _root = null;\n    _hideTimeout = null;\n    _showTimeout = null;\n    _keyboardHeight = 0;\n\n    _windowChanged = ({ window }) => {\n        this.setState({\n            windowWidth: window.width,\n            windowHeight: window.height\n        })\n    };\n\n    _keyboardDidChangeFrame = ({ endCoordinates }) => {\n        this.setState({\n            keyboardScreenY: endCoordinates.screenY\n        })\n    };\n\n    _show = () => {\n        clearTimeout(this._showTimeout);\n        if (!this._animating) {\n            clearTimeout(this._hideTimeout);\n            this._animating = true;\n            this._root.setNativeProps({\n                pointerEvents: 'auto'\n            });\n            this.props.onShow && this.props.onShow(this.props.siblingManager);\n            Animated.timing(this.state.opacity, {\n                toValue: this.props.opacity,\n                duration: this.props.animation ? TOAST_ANIMATION_DURATION : 0,\n                easing: Easing.out(Easing.ease),\n                useNativeDriver: true\n            }).start(({finished}) => {\n                if (finished) {\n                    this._animating = !finished;\n                    this.props.onShown && this.props.onShown(this.props.siblingManager);\n                    if (this.props.duration > 0) {\n                        this._hideTimeout = setTimeout(() => this._hide(), this.props.duration);\n                    }\n                }\n            });\n        }\n    };\n\n    _hide = () => {\n        clearTimeout(this._showTimeout);\n        clearTimeout(this._hideTimeout);\n        if (!this._animating) {\n            if (this._root) {\n                this._root.setNativeProps({\n                    pointerEvents: 'none'\n                });\n            }\n            \n            if (this.props.onHide) {\n                this.props.onHide(this.props.siblingManager);\n            }\n            \n            Animated.timing(this.state.opacity, {\n                toValue: 0,\n                duration: this.props.animation ? TOAST_ANIMATION_DURATION : 0,\n                easing: Easing.in(Easing.ease),\n                useNativeDriver: true\n            }).start(({finished}) => {\n                if (finished) {\n                    this._animating = false;\n                    this.props.onHidden && this.props.onHidden(this.props.siblingManager);\n                }\n            });\n        }\n    };\n\n    render() {\n        let {props} =  this;\n        const { windowWidth } = this.state;\n        let offset = props.position;\n\n        const { windowHeight, keyboardScreenY } = this.state;\n        const keyboardHeight = Math.max(windowHeight - keyboardScreenY, 0);\n        let position = offset ? {\n            [offset < 0 ? 'bottom' : 'top']: offset < 0 ? (keyboardHeight - offset) : offset\n        } : {\n            top: 0,\n            bottom: keyboardHeight\n        };\n\n        return (this.state.visible || this._animating) ? <View\n            style={[\n                styles.defaultStyle,\n                position\n            ]}\n            pointerEvents=\"box-none\"\n        >\n            <TouchableWithoutFeedback\n                onPress={() => {\n                  typeof this.props.onPress === 'function' ? this.props.onPress() : null\n                  this.props.hideOnPress ? this._hide() : null\n                }}\n            >\n                <Animated.View\n                    style={[\n                        styles.containerStyle,\n                        { marginHorizontal: windowWidth * ((1 - TOAST_MAX_WIDTH) / 2) },\n                        props.containerStyle,\n                        props.backgroundColor && {backgroundColor: props.backgroundColor},\n                        {\n                            opacity: this.state.opacity\n                        },\n                        props.shadow && styles.shadowStyle,\n                        props.shadowColor && {shadowColor: props.shadowColor}\n                    ]}\n                    pointerEvents=\"none\"\n                    ref={ele => this._root = ele}\n                >\n                    <Text style={[\n                        styles.textStyle,\n                        props.textStyle,\n                        props.textColor && {color: props.textColor}\n                    ]}>\n                        {this.props.children}\n                    </Text>\n                </Animated.View>\n            </TouchableWithoutFeedback>\n        </View> : null;\n    }\n}\n\nexport default ToastContainer;\nexport {\n    positions,\n    durations\n}\n"]},"metadata":{},"sourceType":"module"}